<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calculus Hub ‚Äî Buscador de temas</title>
  <style>
    :root{
      --bg: #0b1220;
      --card: #0f172aee;
      --text: #e5e7eb;
      --muted: #93a2b2;
      --border: #1f2a44;
      --accent: #38bdf8;
      --t1: #0ea5e95e;
      --t2: #22c55e3d;
      --t3: #ffffff08;
      --overscan: 16px; /* margen extra del fondo */
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
      color:var(--text);
      background: transparent;
      overflow-x:hidden;
    }

    /* Fondo base con degradado oscuro */
    .bg-base{
      position:fixed;
      inset: calc(var(--overscan) * -1);
      z-index:-3;
      pointer-events:none;
      background:
        radial-gradient(
          1200px 800px at 10% -10%,
          #10203b 0%,
          #0b1220 50%,
          #0a0f1b 100%
        );
      transform:translateZ(0);
    }

    /* Capa de part√≠culas */
    .bg-wrap{
      position:fixed;
      inset: calc(var(--overscan) * -1);
      z-index:-2;
      pointer-events:none;
      overflow:hidden;
      transform:translateZ(0);
    }
    canvas#calc-particles{
      display:block;
      width:100%;
      height:100%;
      filter:contrast(1.05) saturate(1.05);
    }

    /* Luces de color */
    .bg-vignette{
      position:fixed;
      inset: calc(var(--overscan) * -1);
      z-index:-1;
      pointer-events:none;
      background:
        radial-gradient(1000px 600px at 80% 10%, var(--t1), transparent 60%),
        radial-gradient(900px 600px at 20% 90%, var(--t2), transparent 60%),
        radial-gradient(1600px 900px at 50% 30%, var(--t3), transparent 60%);
      mix-blend-mode:screen;
      transform:translateZ(0);
    }

    .container{
      max-width:1120px;
      margin-inline:auto;
      padding:24px;
      position:relative;
      z-index:10;
    }

    header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:16px;
      padding-top:24px;
      padding-bottom:8px;
    }
    h1{
      margin:0;
      font-size:clamp(24px,3vw,32px);
      font-weight:800;
    }
    .subtitle{
      margin-top:4px;
      color:var(--muted);
      font-size:14px;
    }
    .team{
      color:var(--muted);
      text-align:right;
      font-size:14px;
    }
    .team .label{
      font-weight:600;
      color:#a7b4c3;
    }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:16px;
      box-shadow:0 10px 30px rgba(2,8,23,.35);
      padding:16px;
      backdrop-filter: blur(6px);
    }

    /* Formulario de b√∫squeda */
    form.search{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .input{
      flex:1;
      border:1px solid var(--border);
      background:#0b1220aa;
      color:var(--text);
      border-radius:12px;
      padding:12px 14px;
      font-size:16px;
      min-width:200px;
    }
    .input:focus{
      outline:3px solid #1f365f;
    }
    .btn{
      border:0;
      background:var(--accent);
      color:#06233a;
      border-radius:12px;
      padding:12px 16px;
      font-weight:800;
      cursor:pointer;
      flex-shrink:0;
    }
    .btn:hover{
      filter:brightness(1.05);
    }

    /* Resultados */
    .result{
      margin-top:16px;
      display:none;
    }
    .box{
      border:1px solid var(--border);
      border-radius:16px;
      padding:16px;
      background:#0b1220b5;
    }
    .box h2{
      margin:0 0 6px 0;
      font-size:20px;
    }
    .box h3{
      margin:12px 0 4px 0;
      font-size:15px;
    }
    .muted{
      color:var(--muted);
    }

    /* Mensaje vac√≠o */
    .empty{
      margin-top:16px;
      border:1px dashed var(--border);
      border-radius:16px;
      padding:16px;
      text-align:center;
      color:#a8bacb;
      display:none;
      background:#0b1220a8;
      white-space:pre-line;
    }

    /* Flipbook fijo */
    .flipbook{
      margin-top:24px;
      border:1px solid var(--border);
      border-radius:16px;
      overflow:hidden;
      background:#06101f;
      box-shadow:0 10px 30px rgba(2,8,23,.5);
    }
    .flipbook__head{
      padding:10px 14px;
      border-bottom:1px solid var(--border);
      background:#0b162a;
      color:#c8d3df;
      font-size:14px;
      font-weight:600;
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      row-gap:8px;
    }
    .flipbook__title{
      display:flex;
      align-items:center;
      gap:8px;
      font-weight:600;
    }
    .flipbook__hint{
      font-size:12px;
      color:#6b7a8c;
      font-weight:400;
    }
    .flipbook__body{
      aspect-ratio:16/9;
      width:100%;
      background:#000;
    }
    .flipbook__body iframe{
      width:100%;
      height:100%;
      border:0;
      background:#000;
      display:block;
      border-radius:0;
    }

    /* Subsecciones */
    .subs{
      margin-top:16px;
      border-top:1px solid var(--border);
      padding-top:16px;
    }
    .subs-block{
      margin-bottom:12px;
      background:#0f172a66;
      border:1px solid var(--border);
      border-radius:12px;
      padding:12px;
    }
    .subs-block h4{
      margin:0 0 4px 0;
      font-size:14px;
      font-weight:600;
      color:var(--accent);
    }
    .subs-block p{
      margin:0;
      font-size:14px;
      line-height:1.4;
      color:var(--text);
      white-space:pre-line;
    }

    /* Overlay del √≠ndice */
    .index-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.45);
      opacity:0;
      pointer-events:none;
      transition:opacity .28s cubic-bezier(.22,1,.36,1);
      z-index:99;
    }
    .index-overlay.show{
      opacity:1;
      pointer-events:auto;
    }

    /* Barra lateral del √≠ndice */
    .index-drawer{
      position:fixed;
      top:0; right:0; bottom:0;
      width:min(360px, 90vw);
      background:#0f172acc;
      backdrop-filter: blur(6px);
      border-left:1px solid var(--border);
      box-shadow: -12px 0 30px rgba(2,8,23,.45);
      transform: translateX(100%);
      transition: transform .28s cubic-bezier(.22,1,.36,1);
      z-index:100;
      display:flex;
      flex-direction:column;
    }
    .index-drawer.open{
      transform: translateX(0);
    }
    .index-drawer__head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      padding:12px 14px;
      border-bottom:1px solid var(--border);
      background:#0b162a;
    }
    .index-drawer__title{
      margin:0;
      font-size:14px;
      font-weight:700;
      color:#c8d3df;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .index-drawer__close{
      border:1px solid var(--border);
      background:#1e293b;
      color:var(--text);
      border-radius:10px;
      width:32px;
      height:32px;
      line-height:30px;
      text-align:center;
      font-weight:800;
      cursor:pointer;
    }
    .index-drawer__close:hover{
      filter:brightness(1.08);
    }
    .index-drawer__list{
      padding:10px 10px 14px 10px;
      overflow:auto;
      flex:1;
    }
    .index-drawer__item{
      margin:0 0 8px 0;
      padding:10px 12px;
      background:#0b1220b5;
      border:1px solid var(--border);
      border-radius:12px;
      font-size:14px;
      font-weight:600;
      color:var(--text);
      cursor:pointer;
      transition: transform .06s ease;
      line-height:1.35;
    }
    .index-drawer__item:hover{
      transform: translateX(-2px);
      border-color:#284066;
    }

    footer{
      padding:24px 0 32px 0;
      text-align:center;
      color:#8aa0b5;
      font-size:12px;
    }
  </style>
</head>
<body>

  <!-- Fondo en capas -->
  <div class="bg-base"></div>
  <div class="bg-wrap"><canvas id="calc-particles"></canvas></div>
  <div class="bg-vignette" aria-hidden="true"></div>

  <div class="container">
    <header>
      <div>
        <h1>üìò Calculus Hub</h1>
        <p class="subtitle">
          ¬øPERO NOS EXONERAR√Å DEL EXAMEN POR TREMENDO DESARROLLO DE APP O NADOTA?
        </p>
      </div>
      <div class="team">
        <div class="label">Proyecto de:</div>
        <div>üë§ Ernesto Emanu√©l Santizo Santizo 1990-24-1077</div>
        <div>üë§ Jos√© Daniel Gonz√°les Monroy 5390-24-19904</div>
      </div>
    </header>

    <main>
      <div class="card">
        <!-- Buscador -->
        <form class="search" id="search-form">
          <input id="q" class="input" placeholder="Ej: T√©cnicas de integraci√≥n" autocomplete="off" />
          <button class="btn" type="submit">Buscar</button>
          <button class="btn" type="button" id="btn-index">√çndice</button>
        </form>

        <!-- Mensaje sin resultados -->
        <div id="empty" class="empty"></div>

        <!-- Resultado -->
        <section id="result" class="result">
          <div class="box">
            <h2 id="res-title">‚Äî</h2>
            <h3>Definici√≥n</h3>
            <p id="res-def">‚Äî</p>
            <h3>Ejemplo</h3>
            <p id="res-ex">‚Äî</p>
            <div id="res-subs" class="subs"></div>
          </div>
        </section>

        <!-- Flipbook (iframe fijo) -->
        <section class="flipbook">
          <div class="flipbook__head">
            <div class="flipbook__title">
              <span>Flipbook:</span>
              <span>James Stewart ‚Äì C√°lculo (edici√≥n de estudio)</span>
            </div>
            <div class="flipbook__hint">
              P√°ginas navegables tipo libro ‚Ä¢ Click / swipe / ‚Üê ‚Üí
            </div>
          </div>
          <div class="flipbook__body">
            <iframe
              id="flip-iframe"
              src="flipbook/index.html"
              title="Flipbook de C√°lculo">
            </iframe>
          </div>
        </section>
      </div>
    </main>

    <footer>HECHO CON ‚ù§Ô∏è PARA APRENDER C√ÅLCULO</footer>
  </div>

  <!-- Overlay e √≠ndice -->
  <div id="index-overlay" class="index-overlay"></div>
  <aside id="index-drawer" class="index-drawer" aria-label="√çndice de temas">
    <div class="index-drawer__head">
      <h3 class="index-drawer__title">üìö √çndice</h3>
      <button id="drawer-close" class="index-drawer__close" type="button" aria-label="Cerrar">√ó</button>
    </div>
    <div id="drawer-list" class="index-drawer__list"></div>
  </aside>

  <script>
  // ====== Datos principales ======
  const TOPICS = [ ... ]; // (contenido completo igual)
  </script>

</body>
</html>
